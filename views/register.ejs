<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CareShift AI – Create an account</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <header>
    <h1>CareShift AI – Create an account</h1>
    <nav>
      <a href="/">Home</a>
      <a href="/login">Login</a>
    </nav>
  </header>

  <main>
    <% if (error) { %>
      <div class="error-banner"><%= error %></div>
    <% } %>

    <form action="/register" method="POST">
      <section>
        <h2>Your details</h2>

        <label>
          Full name
          <input type="text" name="name" required />
        </label>

        <label>
          Email address
          <input type="email" name="email" required />
        </label>

        <label>
          Password
          <input type="password" name="password" required />
        </label>
      </section>

      <section>
        <h2>Account type</h2>

        <label>
          <input
            type="radio"
            name="role"
            value="manager"
            <%= presetRole === 'manager' ? 'checked' : '' %>
            required
          />
          Manager (care provider / agency)
        </label>

        <label>
          <input
            type="radio"
            name="role"
            value="staff"
            <%= presetRole === 'staff' ? 'checked' : '' %>
          />
          Staff / Support worker
        </label>

        <label>
          <input
            type="radio"
            name="role"
            value="nurse"
            <%= presetRole === 'nurse' ? 'checked' : '' %>
          />
          Nurse
        </label>
      </section>

      <section>
        <h2>Address</h2>

        <label>
          House number
          <input type="text" name="house_number" />
        </label>

        <label>
          Street name
          <input type="text" name="street_name" />
        </label>

        <label>
          City
          <input type="text" name="city" />
        </label>

        <label>
          Post code
          <input type="text" name="postcode" />
        </label>
      </section>

      <section id="manager-provider-section" class="manager-only">
        <h2>Provider details (for managers)</h2>

        <label>
          Provider name (care home / agency)
          <input type="text" name="provider_name" />
        </label>

        <label>
          Service type
          <input type="text" name="provider_service_type" />
        </label>

        <label>
          Locations
          <textarea name="provider_locations"></textarea>
        </label>

        <label>
          Roles / skill mix
          <textarea name="provider_roles_skill_mix"></textarea>
        </label>
      </section>

      <button type="submit" class="btn-primary">Create account</button>
    </form>
  </main>
</body>
</html>
